"0","knitr::opts_chunk$set("
"0","  collapse = TRUE,"
"0","  comment = ""#>"""
"0",")"
"0",""
"0","#packages"
"0","library(optimall)"
"0","library(DiagrammeR)"
"0","library(dplyr)"
"0",""
"0","#data"
"0","data(MatWgt_Sim, package = ""optimall"")"
"0","MatWgt_Sim <- MatWgt_Sim %>%"
"0","  dplyr::mutate(race = "
"0","                  dplyr::case_when(race == ""Asian"" ~ ""Other"","
"0","                                   race == ""Other"" ~ ""Other"","
"0","                                   race == ""White"" ~ ""White"","
"0","                                   race == ""Black"" ~ ""Black""))"
"0","phase1 <- dplyr::select(MatWgt_Sim, -mat_weight_true)"
"0",""
"0","phase1$strata <- phase1$race #initialize a strata column first"
"0","set.seed(452)"
"0","phase1 <- split_strata(data = phase1, strata = ""strata"", split = NULL, "
"0","                       split_var = ""mat_weight_est"", "
"0","                       type = ""global quantile"", "
"0","                       split_at = c(0.25,0.75),"
"0","                       trunc = ""MWC_est"")"
"0","#Trunc argument specifies how to refer to mat_weight_est in new strata names"
"0",""
"0","#Make Phase 1 data dict"
"0","phase1_data_dictionary <- data.frame(""Variable"" = c(""id"","
"0","                                                    ""race"","
"0","                                                    ""mat_weight_est"","
"0","                                                    ""diabetes""),"
"0","                                     ""Description"" = c(""unique identifier"","
"0","                                                       ""race of mother"","
"0","                                                       ""error-prone estimate of maternal weight change during pregnancy"","
"0","                                                       ""1/0 indicator for diabetes in the mother during pregnancy""))"
